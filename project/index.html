<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Lodash Demo</title>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.4/lodash.min.js"></script>
  </head>
  <body>
  </body>

  <script>
      //Times Function - How many times do we want our process to run.
      randNumber = () => {
          return Math.round(Math.random() * 100);
      }
// this is callin randNumber 5 times and storing it like an array
      const sampleNumbers = _.times(5, randNumber);

      console.log(sampleNumbers); //this returns an array of 5 random numbers, each time t¿you refresh

------------

// filter - firlster data in a functional way, it keeps trak of the data that meets the filter- example: show all the players above 300 , how can i 
const players = [
      { name: 'Bregman, A',  battingAverage: 0.284 },
      { name: 'Altuve, J',   battingAverage: 0.346 },
      { name: 'Springer, G', battingAverage: 0.283 },
      { name: 'Gurriel, Y',  battingAverage: 0.299 },
      { name: 'Gonzalez, M', battingAverage: 0.303 }
    ];

const over300 = _.filter(players, player => {
    return player.battingAverage > 0.300;
});

console.log(over300);
/*
(2) [{…}, {…}]
0: {name: "Altuve, J", battingAverage: 0.346}
1: {name: "Gonzalez, M", battingAverage: 0.303}
length: 2
__proto__: Array(0)
*/

// ---------------
// keyBy - 
// as you see all keys are the same, you caný 

const roster = [
      { position: '3B', name: 'Bregman, A' },
      { position: '2B', name: 'Altuve, J' },
      { position: 'CF', name: 'Springer, G' },
      { position: '1B', name: 'Gurriel, Y' },
      { position: 'LF', name: 'Gonzalez, M' }
    ]

const positions = _.keyBy(roster, 'position');

console.log(roster);
/*
(5) [{…}, {…}, {…}, {…}, {…}]
0: {position: "3B", name: "Bregman, A"}
1: {position: "2B", name: "Altuve, J"}
2: {position: "CF", name: "Springer, G"}
3: {position: "1B", name: "Gurriel, Y"}
4: {position: "LF", name: "Gonzalez, M"}
length: 5
__proto__: Array(0)
*/
console.log(positions);// as you see it altered the structure, returns an object that has the key value as the new keys.
/*
{3B: {…}, 2B: {…}, CF: {…}, 1B: {…}, LF: {…}}
1B: {position: "1B", name: "Gurriel, Y"}
2B: {position: "2B", name: "Altuve, J"}
3B: {position: "3B", name: "Bregman, A"}
CF: {position: "CF", name: "Springer, G"}
LF: {position: "LF", name: "Gonzalez, M"}
__proto__: Object
*/
// and now we can unse it to find a specific element
const secondBase = positions['2B'];
console.log(secondBase);
/*
{position: "2B", name: "Altuve, J"}
name: "Altuve, J"
position: "2B"
__proto__: Object
*/
const thirdBase = positions['3B'];
console.log(thirdBase);
/*
{position: "3B", name: "Bregman, A"}
name: "Bregman, A"
position: "3B"
__proto__: Object
*/

// --------------

// reduce - have sometype of calculation over a collection or even dinamically create a collectio

const sum = _.reduce([1, 2, 3], function(total, num) {
    return total + num;
}, 0);

console.log(sum);
/*
6
*/
// another example
const homerunStats = [
      { name: 'Bregman, A',  hr: 19 },
      { name: 'Altuve, J',   hr: 24 },
      { name: 'Springer, G', hr: 34 },
      { name: 'Gurriel, Y',  hr: 18 },
      { name: 'Gonzalez, M', hr: 23 }
    ];

const totalHomeruns = _.reduce(homerunStats, function(total, player){
    return total + player.hr;
}, 0);

console.log(totalHomeruns);
/*
118
*/

// another example , if you receive a list of links from the API , and need to turn them into html likns (a href ...) 

const links = [
      "https://google.com",
      "https://devcamp.com",
      "https://airbnb.com"
    ];

const webLinks = _.reduce(links, function(content, link) {
    return `<a href='${link}'>${link}</a><br>`.concat(content);
}, '');
// we use concat 
// as you see, we used the reduce function to create html links elements based on a js list of links
console.log(webLinks);
/*
<a href='https://airbnb.com'>https://airbnb.com</a><br>
<a href='https://devcamp.com'>https://devcamp.com</a><br>
<a href='https://google.com'>https://google.com</a><br>
*/

// ---------

// random generator
randNumberNice = () => {
    return _.random(1, 100);
}

const lodashSampleNumbers = _.times(5, randNumberNice);

console.log(lodashSampleNumbers);

  </script>
</html>